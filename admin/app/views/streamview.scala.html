@(env: String, metricsCharts: Seq[tools.Chart], fastlyCharts: Seq[tools.Chart])

@import tools.Chart

@admin_main("Streamview", env, isAuthed = true) {

<script>

    curl(['@routes.Assets.at("javascripts/streamview/main")'], function(StreamView) {
        StreamView.init({
            chartData: [
                @metricsCharts.map{ chart =>
                    {
                        'title' : '@chart.name',
                        'data'  : @Html(chart.asDataset)
                    },
                }

                @fastlyCharts.map{ chart =>
                    {
                        'title' : '@chart.name',
                        'data'  : @Html(chart.asDataset)
                    },
                }
            ]
        });
    });
</script>



@fastlyCharts.map{ chart => <div id="@chart.id" style="max-width: 900px"></div> }
@metricsCharts.map{ chart => <div id="@chart.id" style="max-width: 900px"></div> }

}
